
<!doctype html>
<html lang="en">
<head>

<!-- all praise to https://realfavicongenerator.net -->
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/site.webmanifest">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="theme-color" content="#ffffff">

  <!-- Required meta tags -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="/fonts.css">
  <link rel="stylesheet" href="../pbrstyle.css">
  <link rel="stylesheet" href="/fontawesome-free-5.15.3-web/css/all.css">

  <script async src="https://cse.google.com/cse.js?cx=003601324460585362024:4xwpwgaitgd"></script>
  <script src="/react.min.js"></script>
  <script src="/react-dom.min.js"></script>
  <script src="/jeri.min.js"></script>
  <link rel="preload" href="/exr.worker.js" as="script" crossorigin="anonymous">
        
  <!-- Bootstrap CSS -->
  <link rel="stylesheet" href="/bootstrap.min.css">

  <title>Further Reading</title>
</head>
        
<body>

<nav class="fixed-top-lg-navbar navbar navbar-expand bg-light navbar-light">
  <ul class="nav navbar-nav">
    <a class="navbar-brand" href="../contents.html"><img src="../pbr.jpg" width=25 height=25></a>
    <li class="nav-item"><a class="nav-link" href="../Materials.html">Materials</a></li>
    <span class="navbar-text">/</span>
    <li class="nav-item"><a class="nav-link" href="#">Further Reading</a></li>
    <span class="navbar-text">&nbsp;&nbsp;</span>
    <li class="nav-item"><a class="nav-link" href="../Materials/Bump_Mapping.html">(Previous: Bump Mapping)</a></li>
  </ul>

  <ul class="nav navbar-nav ml-auto d-none d-md-block">
        <li class="nav-item"><div class="gcse-search"></div></li>
    </ul>
  <ul class="nav navbar-nav d-block d-md-none">
        <li class="nav-item"><div class="gcse-search"></div></li>
    </ul>
</nav>

<div class="maincontainer">
<div class="container-fluid">

<div class="row">
<div class="col-md-1 col-lg-2 leftcolumn">

</div>
<div class="col-md-10 col-lg-8">

</div> <!-- col-md-10 col-lg-8 -->
<div class="col-md-1 col-lg-2">

</div> <!-- col-md-1 col-lg-2 -->
</div>  <!-- row -->

<div class="row">
<div class="col-md-1 col-lg-2 leftcolumn">
<a href="#"><i class="fas fa-link "></i></a>
</div>
<div class="col-md-10 col-lg-8">
<h2>Further Reading</h2><p>


</p>
<p>Burley&rsquo;s article (<a href="#cite:Burley2012">2012</a>) on a material model developed at Disney for feature films
is an excellent read.  It includes extensive discussion of
features of real-world reflection functions that can be observed in Matusik et&nbsp;al.&rsquo;s (<a href="#cite:Matusik03b">2003b</a>) measurements of one hundred BRDFs and analyzes the ways
that existing BRDF models do and do not fit these features well.  These
insights are then used to develop an &ldquo;artist-friendly&rdquo; material model
that can express a wide range of surface appearances.  The model describes
reflection with a single color and ten scalar parameters, all of which are
in the range <svg xmlns:xlink="http://www.w3.org/1999/xlink" width="4.653ex" height="2.843ex" style="vertical-align: -0.838ex;" viewBox="0 -863.1 2003.2 1223.9" role="img" focusable="false" xmlns="http://www.w3.org/2000/svg" aria-labelledby="MathJax-SVG-1-Title">
<title id="MathJax-SVG-1-Title">left-bracket 0 comma 1 right-bracket</title>
<defs aria-hidden="true">
<path stroke-width="1" id="E1-LATINMODERNMAIN-5B" d="M256 -230c0 -11 -9 -20 -20 -20h-122v1000h122c11 0 20 -9 20 -20s-9 -20 -20 -20h-82v-920h82c11 0 20 -9 20 -20Z"></path>
<path stroke-width="1" id="E1-LATINMODERNMAIN-30" d="M460 320c0 -79 -5 -157 -37 -226c-44 -95 -120 -116 -174 -116c-49 0 -122 20 -165 101c-41 76 -45 166 -45 241c0 80 5 158 37 227c41 93 114 119 174 119c42 0 124 -16 170 -112c35 -74 40 -154 40 -234zM377 332c0 63 0 139 -10 195c-19 99 -85 117 -118 117 c-25 0 -100 -9 -119 -128c-8 -54 -8 -120 -8 -184c0 -59 0 -151 11 -211c18 -96 77 -121 116 -121c45 0 102 30 117 125c11 64 11 132 11 207Z"></path>
<path stroke-width="1" id="E1-LATINMODERNMAIN-2C" d="M203 1c0 -117 -80 -194 -91 -194c-5 0 -10 4 -10 11c0 3 0 5 11 16c33 33 68 93 68 167c0 14 -2 15 -2 15s-2 -1 -5 -3c-10 -9 -23 -13 -35 -13c-33 0 -53 26 -53 53c0 28 20 53 53 53c39 0 64 -39 64 -105Z"></path>
<path stroke-width="1" id="E1-LATINMODERNMAIN-31" d="M419 0c-35 3 -122 3 -162 3s-127 0 -162 -3v31h32c90 0 93 12 93 48v518c-52 -26 -111 -26 -131 -26v31c32 0 120 0 182 64c23 0 23 -2 23 -26v-561c0 -37 3 -48 93 -48h32v-31Z"></path>
<path stroke-width="1" id="E1-LATINMODERNMAIN-5D" d="M164 -250h-122c-11 0 -20 9 -20 20s9 20 20 20h82v920h-82c-11 0 -20 9 -20 20s9 20 20 20h122v-1000Z"></path>
</defs>
<g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)" aria-hidden="true">
 <use xlink:href="#E1-LATINMODERNMAIN-5B" x="0" y="0"></use>
 <use xlink:href="#E1-LATINMODERNMAIN-30" x="278" y="0"></use>
 <use xlink:href="#E1-LATINMODERNMAIN-2C" x="779" y="0"></use>
 <use xlink:href="#E1-LATINMODERNMAIN-31" x="1224" y="0"></use>
 <use xlink:href="#E1-LATINMODERNMAIN-5D" x="1724" y="0"></use>
</g>
</svg> and have fairly predictable effects on the appearance
of the resulting material.

</p>
<p>Blinn (<a href="#cite:Blinn78">1978</a>) invented the bump-mapping technique.  Kajiya (<a href="#cite:Kajiya85">1985</a>)
generalized the idea of bump mapping the normal to <em>frame mapping</em>,
which also perturbs the surface&rsquo;s primary tangent vector and is useful
for controlling the appearance of anisotropic reflection
models.  Mikkelsen&rsquo;s thesis (<a href="#cite:Mikkelsen08">2008</a>) carefully investigates a number of the
assumptions underlying bump mapping, proposes generalizations, and
addresses a number of subtleties with respect to its application to real-time
rendering.

</p>
<p>Snyder and Barr (<a href="#cite:Snyder87">1987</a>) noted the light leak problem from per-vertex shading
normals and proposed a number of work-arounds.  The method
we have used in this chapter is from Section&nbsp;5.3 of Veach&rsquo;s
thesis (<a href="#cite:VeachThesis">1997</a>); it is a more robust solution than
those of Snyder and Barr.

</p>
<p>Shading normals introduce a number of subtle problems for physically based
light transport algorithms that we have not addressed in this chapter.  For
example, they can easily lead to surfaces that reflect more energy than was
incident upon them, which can wreak havoc with light transport algorithms
that are designed under the assumption of energy conservation.  Veach (<a href="#cite:Veach96">1996</a>) investigated this issue in depth and developed a number of
solutions.  Section&nbsp;<a href="../Light_Transport_III_Bidirectional_Methods/The_Path-Space_Measurement_Equation.html#sec:adjoint-transport">16.1</a> of this book will return to
this issue.

</p>
<p>One visual shortcoming of bump mapping is that it doesn&rsquo;t naturally account
for self-shadowing, where bumps cast shadows on the surface and prevent
light from reaching nearby points.  These shadows can have a significant
impact on the appearance of rough surfaces.  Max (<a href="#cite:Max:1988:HMS">1988</a>) developed the
<em>horizon mapping</em> technique, which performs a preprocess on bump maps
stored in image maps to compute a term to account for this
effect.  This approach isn&rsquo;t directly applicable to
procedural textures, however.  Dana et al. (<a href="#cite:Dana99">1999</a>) measured spatially varying
reflection properties from real-world surfaces, including these
self-shadowing effects; they convincingly demonstrate this effect&rsquo;s
importance for accurate image synthesis.

</p>
<p>Another difficult issue related to bump mapping is that antialiasing bump
maps that have higher frequency detail than can be represented in the image
is quite difficult.  In particular, it is not enough to remove
high-frequency detail from the bump map function, but in general the BSDF
needs to be modified to account for this detail.  Fournier (<a href="#cite:Fournier92">1992</a>) applied
<em>normal distribution functions</em> to this problem, where the surface
normal was generalized to represent a distribution of normal directions.
Becker and Max (<a href="#cite:Becker:1993:STB">1993</a>) developed algorithms for blending between bump maps
and BRDFs that represented higher-frequency details.  Schilling (<a href="#cite:Schilling:1997:TRP">1997</a>, <a href="#cite:Schilling01">2001</a>) investigated this issue particularly for application to graphics
hardware.  More recently, effective approaches to filtering bump maps were
developed by Han et&nbsp;al. (<a href="#cite:Han07">2007</a>) and Olano and Baker (<a href="#cite:Olano2010">2010</a>). Recent
work by Dupuy et&nbsp;al. (<a href="#cite:Dupuy2013">2013</a>) and Hery et&nbsp;al. (<a href="#cite:Hery2014">2014</a>) addressed this issue by
developing techniques that convert displacements into anisotropic
distributions of Beckmann microfacets.

</p>
<p>An alternative to bump mapping is displacement mapping, where the bump
function is used to actually modify the surface geometry, rather than just
perturbing the normal (<a href="#cite:Cook84st">Cook 1984</a>; <a href="#cite:Cook87">Cook et&nbsp;al. 1987</a>).  Advantages of
displacement mapping include geometric detail on object silhouettes and the
possibility of accounting for self-shadowing.  Patterson and collaborators
described an innovative algorithm for displacement mapping with ray
tracing where the geometry is unperturbed but the ray&rsquo;s direction is
modified such that the intersections that are found are the same as would
be found with the displaced geometry (<a href="#cite:Patterson91">Patterson et&nbsp;al. 1991</a>; <a href="#cite:Logie94">Logie and Patterson 1994</a>).
Heidrich and Seidel (<a href="#cite:Heidrich98">1998</a>) developed a technique for computing direct
intersections with procedurally defined displacement functions.

</p>
<p>As computers have become faster, another viable approach for displacement
mapping has been to use an implicit function to define the displaced surface and
to then take steps along rays until they find a zero crossing with the
implicit function.  At this point, an intersection has been found.  This
approach was first introduced by Hart (<a href="#cite:Hart96">1996</a>); see Donnelly (<a href="#cite:Donnelly2005">2005</a>) for
information about using this approach for displacement mapping on the
GPU. This approach was recently popularized by Quilez on the
<em>shadertoy</em> Web site (Quilez&nbsp;<a href="#cite:Quilez2015">2015</a>).

</p>
<p>

</p>
<p>With the advent of increased memory on computers and caching algorithms,
the option of finely tessellating geometry and displacing its vertices for
ray tracing has become feasible.  Pharr and Hanrahan (<a href="#cite:Pharr96">1996</a>) described an
approach to this problem based on geometry caching, and Wang et al. (<a href="#cite:Wang00">2000</a>)
described an adaptive tessellation algorithm that reduces memory
requirements.  Smits, Shirley, and Stark (<a href="#cite:Smits00">2000</a>) lazily tessellate
individual triangles, saving a substantial amount of memory.

</p>
<p>Measuring fine-scale surface geometry of real surfaces to acquire bump or
displacement maps can be challenging.  Johnson et&nbsp;al. (<a href="#cite:Johnson2011">2011</a>) developed a
novel hand-held system that can measure detail down to a few microns, which
more than suffices for these uses.

</p>
<p></p>
<h3>References</h3>
<ol style="list-style: none;">
<li class="bibitem" id="cite:Amanatides92">Amanatides, J. 1992.
Algorithms for the detection and elimination of specular aliasing.
In <em>Proceedings of Graphics Interface 1992</em>, 86&ndash;93.
</li>

<li class="bibitem" id="cite:Becker:1993:STB">Becker, B.&nbsp;G., and N.&nbsp;L. Max. 1993.
Smooth transitions between bump rendering algorithms.
In <em>Proceedings of SIGGRAPH &rsquo;93,</em> Computer Graphics Proceedings,
  Annual Conference Series, 183&ndash;90.
</li>

<li class="bibitem" id="cite:Blinn78">Blinn, J.&nbsp;F. 1978.
Simulation of wrinkled surfaces.
In <em>Computer Graphics (SIGGRAPH &rsquo;78 Proceedings),</em> <em>12,</em>
286&ndash;92.
</li>

<li class="bibitem" id="cite:Burley2012">Burley, B.
Physically-based shading at Disney.
<em>Physically Based Shading in Film and Game Production, SIGGRAPH 2012
Course Notes</em>.
</li>

<li class="bibitem" id="cite:Cook84st">Cook, R.&nbsp;L. 1984.
Shade trees.
<em>Computer Graphics (SIGGRAPH &rsquo;84
  Proceedings),</em> <em>18,</em> 223&ndash;31.
</li>

<li class="bibitem" id="cite:Cook87">Cook, R.&nbsp;L., L.&nbsp;Carpenter, and E.&nbsp;Catmull. 1987.
The Reyes image rendering architecture.
<em>Computer Graphics (Proceedings of SIGGRAPH &rsquo;87),</em> 95&ndash;102.
</li>

<li class="bibitem" id="cite:Dana99">Dana, K.&nbsp;J., B.&nbsp;van Ginneken, S.&nbsp;K. Nayar, and J.&nbsp;J. Koenderink. 1999.
Reflectance and texture of real-world surfaces.
<em>ACM Transactions on Graphics</em>&nbsp;<em>18</em>&thinsp;(1), 1&ndash;34.
</li>

<li class="bibitem" id="cite:Donnelly2005">Donnelly, W.
Per-pixel displacement mapping with distance functions.
In M. Pharr (Ed.), <em>GPU Gems 2</em>.
Reading, Massachusetts: Addison-Wesley.
</li>

<li class="bibitem" id="cite:Dupuy2013">Dupuy, J., E.&nbsp;Heitz, J.-C.&nbsp;Iehl, P.&nbsp;Poulin, F.&nbsp;Neyret, and
V.&nbsp;Ostromoukhov.
Linear efficient antialiased displacement and reflectance mapping.
<em>ACM Transactions on Graphics</em>&nbsp;<em>32</em>&thinsp;(6).
</li>

<li class="bibitem" id="cite:Fisher2009">Fisher, M., K.&nbsp;Fatahalian, S.&nbsp;Boulos, K.&nbsp;Akeley, W.&nbsp;R. Mark, and
P.&nbsp;Hanrahan.
DiagSplit: parallel, crack-free, adaptive tessellation for micropolygon rendering.
<em>ACM Transactions on Graphics (Proceedings of ACM SIGGRAPH Asia
2009)</em>&nbsp;<em>28</em>&thinsp;(5), 150:1&ndash;150:10.
</li>

<li class="bibitem" id="cite:Fournier92">Fournier, A. 1992.
Normal distribution functions and multiple surfaces.
In <em>Graphics Interface &rsquo;92 Workshop on Local Illumination,</em> 45&ndash;52.
</li>

<li class="bibitem" id="cite:Han07">Han, C., B.&nbsp;Sun, R.&nbsp;Ramamoorthi, and E.&nbsp;Grinspun. 2007.
Frequency domain normal map filtering.
<em>ACM Transactions on Graphics (Proceedings of SIGGRAPH
2007)</em>&nbsp;<em>26</em>&thinsp;(3), 28:1&ndash;28:11.
</li>

<li class="bibitem" id="cite:Hart96">Hart, J.&nbsp;C. 1996.
Sphere tracing: a geometric method for the antialiased ray tracing of
  implicit surfaces.
<em>The Visual Computer</em>&nbsp;<em>12</em>&thinsp;(9), 527&ndash;45.
</li>

<li class="bibitem" id="cite:Heidrich98">Heidrich, W., and H.-P. Seidel. 1998.
Ray-tracing procedural displacement shaders.
In <em>Proceedings of Graphics Interface 1998</em>, 8&ndash;16.
</li>

<li class="bibitem" id="cite:Heitz2012">Heitz, E., and F.&nbsp;Neyret.
Representing appearance and pre-filtering subpixel data in sparse voxel
octrees. 
In <em>Proceedings of High Performance Graphics 2012</em>, 125&ndash;34.
</li>

<li class="bibitem" id="cite:Heitz2015a">Heitz, E., J.&nbsp;Dupuy, C.&nbsp;Crassin, and C.&nbsp;Dachsbacher.
The SGGX microflake distribution.
<em>ACM Transactions on Graphics (Proceedings of SIGGRAPH
2015)</em>&nbsp;<em>34</em>&thinsp;(4), 48:1&ndash;48:11.
</li>

<li class="bibitem" id="cite:Hery2014">Hery, C., M.&nbsp;Kass, and J.&nbsp;Ling.
Geometry into shading.
<em>Pixar Technical Memo 14-04</em>.
</li>

<li class="bibitem" id="cite:Johnson2011">Johnson, M.&nbsp;K., F.&nbsp;Cole, A.&nbsp;Raj, and E.&nbsp;H.&nbsp;Adelson.
Microgeometry capture using an elastomeric sensor.
<em>ACM Transactions on Graphics (Proceedings of SIGGRAPH
2011)</em>&nbsp;<em>30</em>&thinsp;(4), 46:1&ndash;46:8.
</li>

<li class="bibitem" id="cite:Kajiya85">Kajiya, J.&nbsp;T. 1985.
Anisotropic reflection models.
<em>Computer Graphics (Proceedings of SIGGRAPH &rsquo;85),</em> <em>19,</em>
15&ndash;21.
</li>

<li class="bibitem" id="cite:Logie94">Logie, J.&nbsp;R., and J.&nbsp;W. Patterson. 1994.
Inverse displacement mapping in the general case.
<em>Computer Graphics Forum</em>&nbsp;<em>14</em>&thinsp;(5), 261&ndash;73.
</li>

<li class="bibitem" id="cite:Matusik03b">Matusik, W., H.&nbsp;Pfister, M.&nbsp;Brand, and L.&nbsp;McMillan. 2003b.
A data-driven reflectance model.
<em>ACM Transactions on Graphics (Proceedings of SIGGRAPH
2003)</em>&nbsp;<em>22</em>&thinsp;(3), 759&ndash;69.
</li>

<li class="bibitem" id="cite:Max:1988:HMS">Max, N.&nbsp;L. 1988.
Horizon mapping: shadows for bump-mapped surfaces.
<em>The Visual Computer</em>&nbsp;<em>4</em>&thinsp;(2), 109&ndash;17.
</li>

<li class="bibitem" id="cite:Mikkelsen08">Mikkelsen, M. 2008.
Simulation of wrinkled surfaces revisited.
M.S. thesis, University of Copenhagen.
</li>

<li class="bibitem" id="cite:Neyret:1996:SVL">Neyret, F. 1996.
Synthesizing verdant landscapes using volumetric textures.
In <em>Eurographics Rendering Workshop 1996,</em> 215&ndash;24.
</li>

<li class="bibitem" id="cite:Neyret:1998:MAA">Neyret, F. 1998.
Modeling, animating, and rendering complex scenes using volumetric
  textures.
<em>IEEE Transactions on Visualization and Computer Graphics</em>&nbsp;<em>4</em>&thinsp;(1),
55&ndash;70.
</li>

<li class="bibitem" id="cite:Olano2010">Olano, M., and D.&nbsp;Baker.
LEAN mapping.
In <em>Proceedings of the 2010 ACM SIGGRAPH symposium on Interactive 3D
Graphics and Games</em>, 181&ndash;88.
</li>

<li class="bibitem" id="cite:Patney2009">Patney, A., M.&nbsp;S. Ebeida, and J.&nbsp;D. Owens.
Parallel view-dependent tessellation of Catmull&ndash;Clark subdivision surfaces. 
In <em>Proceedings of High Performance Graphics 2009</em>, 99&ndash;108.
</li>

<li class="bibitem" id="cite:Patterson91">Patterson, J.&nbsp;W., S.&nbsp;G. Hoggar, and J.&nbsp;R. Logie. 1991.
Inverse displacement mapping.
<em>Computer Graphics Forum</em>&nbsp;<em>10</em>&thinsp;(2), 129&ndash;39.
</li>

<li class="bibitem" id="cite:Pharr96">Pharr, M., and P.&nbsp;Hanrahan. 1996.
Geometry caching for ray-tracing displacement maps.
In <em>Eurographics Rendering Workshop 1996,</em> 31&ndash;40.
</li>

<li class="bibitem" id="cite:Quilez2015">Quilez, I.
Distance estimation.
<a href="http://iquilezles.org/www/articles/distance/distance.htm">http://iquilezles.org/www/articles/distance/distance.htm</a>.
</li>

<li class="bibitem" id="cite:Schilling:1997:TRP">Schilling, A. 1997.
Toward real-time photorealistic rendering: challenges and solutions.
In <em>1997 SIGGRAPH/Eurographics Workshop on Graphics Hardware,</em>
  7&ndash;16.
</li>

<li class="bibitem" id="cite:Schilling01">Schilling, A. 2001.
Antialiasing of environment maps.
<em>Computer Graphics Forum</em>&nbsp;<em>20</em>&thinsp;(1), 5&ndash;11.
</li>

<li class="bibitem" id="cite:Smits00">Smits, B., P.&nbsp;S. Shirley, and M.&nbsp;M. Stark. 2000.
Direct ray tracing of displacement mapped triangles.
In <em>Rendering Techniques 2000: 11th Eurographics Workshop on
  Rendering,</em> 307&ndash;18.
</li>

<li class="bibitem" id="cite:Snyder87">Snyder, J.&nbsp;M., and A.&nbsp;H. Barr. 1987.
Ray tracing complex models containing surface tessellations.
<em>Computer Graphics (SIGGRAPH &rsquo;87 Proceedings),</em> Volume&nbsp;21, 119&ndash;28.
</li>

<li class="bibitem" id="cite:Veach96">Veach, E. 1996.
Non-symmetric scattering in light transport algorithms.
In X.&nbsp;Pueyo and P.&nbsp;Schr&ouml;der (Eds.), <em>Eurographics Rendering
  Workshop 1996</em>. Wien: Springer.
</li>

<li class="bibitem" id="cite:VeachThesis">Veach, E. 1997.
Robust Monte Carlo methods for light transport simulation.
Ph.D. thesis, Stanford University.
</li>

<li class="bibitem" id="cite:Wang00">Wang, X.&nbsp;C., J.&nbsp;Maillot, E.&nbsp;L. Fiume, V.&nbsp;Ng-Thow-Hing, A.&nbsp;Woo, and
S.&nbsp;Bakshi.
  2000.
Feature-based displacement mapping.
In <em>Rendering Techniques 2000: 11th Eurographics Workshop on
  Rendering,</em> 257&ndash;68.
</li>

</ol>
<p>


</p>
<p>

</p>
<p></p>

</div> <!-- col-md-10 col-lg-8 -->
<div class="col-md-1 col-lg-2">

</div> <!-- col-md-1 col-lg-2 -->
</div>  <!-- row -->

</div>  <!-- container-fluid -->
</div>  <!-- maincontainer -->

<nav class="navbar navbar-expand-md bg-light navbar-light">
  <div class="container-fluid-nav">
    <!--  <ul class="nav navbar-nav navbar-center"> -->
      <span class="navbar-text" style="text-align: center;">
        Thanks to Denis A. Gladkiy and 36 others for generously supporting <i>Physically
        Based Rendering</i> online
        through <a href="https://patreon.com/pbrbook">Patreon</a>.
    </span>
  </div>
</nav>

<nav class="navbar navbar-expand-md bg-light navbar-light">
  <span class="navbar-text"><i>Physically Based Rendering: From Theory To Implementation</i>, &copy; 2004-2021 Matt Pharr, Wenzel Jakob, and Greg Humphreys under the <a href="https://creativecommons.org/licenses/by-nc-nd/4.0/">CC BY-NC-ND 4.0</a> license. (<a href="https://github.com/mmp/pbr-book-website/">github</a>)</span>
  <div class="container">
    <ul class="nav navbar-nav ml-auto">
      <li class="nav-item">Next: <a href="../Materials/Exercises.html">Materials / Exercises</a></li>
    </ul>
  </div>

</nav>

<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
<script>
  $(function () {
    $('[data-toggle="popover"]').popover()
    $('[data-toggle="tooltip"]').tooltip()
   })
</script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>

<script>
// https://stackoverflow.com/a/17535094
// The function actually applying the offset
function offsetAnchor() {
  if (location.hash.length !== 0) {
    window.scrollTo(window.scrollX, window.scrollY - window.innerHeight / 8);
  }
}

// Captures click events of all <a> elements with href starting with #
$(document).on('click', 'a[href^="#"]', function(event) {
  // Click events are captured before hashchanges. Timeout
  // causes offsetAnchor to be called after the page jump.
  window.setTimeout(function() {
    offsetAnchor();
  }, 500);
});

// Set the offset when entering page with hash present in the url
window.setTimeout(offsetAnchor, 1500);
</script>

</body>
</html>
